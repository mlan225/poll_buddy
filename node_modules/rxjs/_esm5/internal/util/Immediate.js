/** PURE_IMPORTS_START  PURE_IMPORTS_END */
var nextHandle = 1;
<<<<<<< HEAD
var RESOLVED = /*@__PURE__*/ (function () { return /*@__PURE__*/ Promise.resolve(); })();
var activeHandles = {};
function findAndClearHandle(handle) {
    if (handle in activeHandles) {
        delete activeHandles[handle];
        return true;
    }
    return false;
=======
var tasksByHandle = {};
function runIfPresent(handle) {
    var cb = tasksByHandle[handle];
    if (cb) {
        cb();
    }
>>>>>>> 7667619318f2e7e4ad64e58abdc3812448859fd9
}
export var Immediate = {
    setImmediate: function (cb) {
        var handle = nextHandle++;
<<<<<<< HEAD
        activeHandles[handle] = true;
        RESOLVED.then(function () { return findAndClearHandle(handle) && cb(); });
        return handle;
    },
    clearImmediate: function (handle) {
        findAndClearHandle(handle);
    },
};
export var TestTools = {
    pending: function () {
        return Object.keys(activeHandles).length;
    }
};
=======
        tasksByHandle[handle] = cb;
        Promise.resolve().then(function () { return runIfPresent(handle); });
        return handle;
    },
    clearImmediate: function (handle) {
        delete tasksByHandle[handle];
    },
};
>>>>>>> 7667619318f2e7e4ad64e58abdc3812448859fd9
//# sourceMappingURL=Immediate.js.map
